{"ast":null,"code":"import _regeneratorRuntime from\"/Users/isabelzhang/Documents/GitHub/Agile2020AccountingNotebook/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/isabelzhang/Documents/GitHub/Agile2020AccountingNotebook/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/isabelzhang/Documents/GitHub/Agile2020AccountingNotebook/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/isabelzhang/Documents/GitHub/Agile2020AccountingNotebook/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/isabelzhang/Documents/GitHub/Agile2020AccountingNotebook/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/isabelzhang/Documents/GitHub/Agile2020AccountingNotebook/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/isabelzhang/Documents/GitHub/Agile2020AccountingNotebook/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./App.css';import{Box,Button}from'@material-ui/core';import{TransactionList}from'./components/TransactionList';import{TransactionsRepository}from'./repositories/Transactions';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.transactionsRepository=void 0;_this.state={transactionsError:false,transactions:[]};_this.transactionsRepository=new TransactionsRepository();_this.reloadTransactions=_this.reloadTransactions.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"reloadTransactions\",value:function(){var _reloadTransactions=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var transactions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return this.transactionsRepository.getAll();case 3:transactions=_context.sent;this.setState({transactionsError:false,transactions:transactions});_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);this.setState({transactionsError:true,transactions:[]});console.error(\"Error while getting transactions: \".concat(_context.t0));case 11:case\"end\":return _context.stop();}}},_callee,this,[[0,7]]);}));function reloadTransactions(){return _reloadTransactions.apply(this,arguments);}return reloadTransactions;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.reloadTransactions();case 2:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"App-header\"},\"Accounting Notebook\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:this.reloadTransactions},\"Reload\"),/*#__PURE__*/React.createElement(Box,{className:\"App-separator\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"App-body\"},this.state.transactionsError?/*#__PURE__*/React.createElement(\"h2\",null,\"There was an error loading your transactions.\",/*#__PURE__*/React.createElement(\"br\",null),\"Try again please.\"):this.state.transactions.length?/*#__PURE__*/React.createElement(TransactionList,{transactions:this.state.transactions}):/*#__PURE__*/React.createElement(\"h2\",null,\"No transactions received.\",/*#__PURE__*/React.createElement(\"br\",null),\"Try reloading from server.\")));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/isabelzhang/Documents/GitHub/Agile2020AccountingNotebook/frontend/src/App.tsx"],"names":["React","Box","Button","TransactionList","TransactionsRepository","App","props","transactionsRepository","state","transactionsError","transactions","reloadTransactions","bind","getAll","setState","console","error","length","Component"],"mappings":"szCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,WAAP,CAEA,OAASC,GAAT,CAAcC,MAAd,KAA4B,mBAA5B,CAGA,OAASC,eAAT,KAAgC,8BAAhC,CACA,OAASC,sBAAT,KAAuC,6BAAvC,C,GAOMC,CAAAA,G,sGAGJ,aAAYC,KAAZ,CAAwB,qCACtB,uBAAMA,KAAN,EADsB,MAFhBC,sBAEgB,QAEtB,MAAKC,KAAL,CAAa,CACXC,iBAAiB,CAAE,KADR,CAEXC,YAAY,CAAE,EAFH,CAAb,CAKA,MAAKH,sBAAL,CAA8B,GAAIH,CAAAA,sBAAJ,EAA9B,CACA,MAAKO,kBAAL,CAA0B,MAAKA,kBAAL,CAAwBC,IAAxB,+BAA1B,CARsB,aASvB,C,uUAI8B,MAAKL,sBAAL,CAA4BM,MAA5B,E,QAArBH,Y,eACN,KAAKI,QAAL,CAAc,CAACL,iBAAiB,CAAE,KAApB,CAA2BC,YAAY,CAAEA,YAAzC,CAAd,E,+EAEA,KAAKI,QAAL,CAAc,CAACL,iBAAiB,CAAE,IAApB,CAA0BC,YAAY,CAAE,EAAxC,CAAd,EACAK,OAAO,CAACC,KAAR,2D,8cAKI,MAAKL,kBAAL,E,kNAGC,CACP,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,0BAAI,SAAS,CAAC,YAAd,wBADF,cAEE,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,OAAO,CAAE,KAAKA,kBAA1D,WAFF,cAIE,oBAAC,GAAD,EAAK,SAAS,CAAC,eAAf,EAJF,cAME,2BAAK,SAAS,CAAC,UAAf,EACG,KAAKH,KAAL,CAAWC,iBAAX,cACG,2FAAiD,8BAAjD,qBADH,CAEG,KAAKD,KAAL,CAAWE,YAAX,CAAwBO,MAAxB,cACE,oBAAC,eAAD,EAAiB,YAAY,CAAE,KAAKT,KAAL,CAAWE,YAA1C,EADF,cAEE,uEAA6B,8BAA7B,8BALR,CANF,CADF,CAgBD,C,iBA7CeV,KAAK,CAACkB,S,EAgDxB,cAAeb,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport './App.css';\n\nimport { Box, Button } from '@material-ui/core';\n\nimport { Transaction } from './components/Transaction';\nimport { TransactionList } from './components/TransactionList';\nimport { TransactionsRepository } from './repositories/Transactions';\n\ninterface AppState {\n  transactionsError: boolean;\n  transactions: Transaction[];\n}\n\nclass App extends React.Component<any, AppState> {\n  private transactionsRepository: TransactionsRepository;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      transactionsError: false,\n      transactions: [],\n    };\n\n    this.transactionsRepository = new TransactionsRepository();\n    this.reloadTransactions = this.reloadTransactions.bind(this);\n  }\n\n  async reloadTransactions() {\n    try {\n      const transactions = await this.transactionsRepository.getAll();\n      this.setState({transactionsError: false, transactions: transactions});\n    } catch (e) {\n      this.setState({transactionsError: true, transactions: []});\n      console.error(`Error while getting transactions: ${e}`);\n    }\n  }\n\n  async componentDidMount() {\n    await this.reloadTransactions();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1 className=\"App-header\">Accounting Notebook</h1>\n        <Button variant=\"contained\" color=\"primary\" onClick={this.reloadTransactions}>Reload</Button>\n\n        <Box className=\"App-separator\"/>\n\n        <div className=\"App-body\">\n          {this.state.transactionsError\n            ? <h2>There was an error loading your transactions.<br/>Try again please.</h2>\n            : this.state.transactions.length\n              ? <TransactionList transactions={this.state.transactions}/>\n              : <h2>No transactions received.<br/>Try reloading from server.</h2>}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}